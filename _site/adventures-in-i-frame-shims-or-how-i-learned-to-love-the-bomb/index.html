<!doctype html>
<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<title>I-Frame Shims or How I Learned to Stop Worrying and Love <span class="widow">the Bomb</span>—zachleat.com</title>
		<link href="/atom.xml" rel="alternate" title="Web 367 via zachleat.com" type="application/atom+xml">

		<link href="/web/css/global.css" rel="stylesheet">
	</head>
	<body>
		<div class="rail">
			<header>
				<a href="/web/">
					<h1>Web 3.0, 6 Bladed Razors, 7 Minute Abs</h1>
				</a>
				<h2>A bunch of words by zachleat.</h2>
			</header>
			<aside>
				<nav role="navigation">
				</nav>
			</aside>
		</div>
		<div class="content">
			<div class="main" data-role="main">
				<article>
<h1>I-Frame Shims or How I Learned to Stop Worrying and Love <span class="widow">the Bomb</span></h1>
<em>Posted on 24 Apr 2007</em>
<h1></h1>

<p>So again, I show up late to the party. IE7 is already out, but my target customers are still using IE6. So today, boys and girls, we’re going to discover the magical world of using I-Frame shims to hide those bleeding heart select boxes from showing through our layered elements.</p>

<p>Typically, when creating an I-Frame shim, you’re going to create the i-frame dynamically using document.createElement. Let’s start out with some successful code.</p>

<pre><code>var iframeShim = document.createElement&amp;#40; 'iframe' &amp;#41;;
iframeShim.setAttribute&amp;#40; 'src', 'javascript:"";' &amp;#41;;
iframeShim.setAttribute&amp;#40; 'frameBorder', '0' &amp;#41;;
</code></pre>

<p>Now for some caveats you might have encountered with code not matching the above:</p>

<p><strong>I-Frame frameBorder attribute</strong><br/>
Are you trying to get rid of that nasty i-frame border in Internet Explorer 6 (IE6)? Tried CSS properties? Tried setting the frameBorder attribute? It turns out that when setting the frameBorder attribute, the name of the attribute is case sensitive. Using frameborder will not work correctly, but using frameBorder (with a capital B) will give the desired result. [Source: <a href="http://www.visible-form.com/blog/createelement-and-events-and-iframe-borders/">FlashApe</a>]</p>

<p><strong>HTTPS and I-Frame src attribute</strong><br/>
Is your page hosted on a secure domain (https instead of just http)? Is the dynamically created iframe causing the following error message in Internet Explorer?</p>

<p><em>This page contains both secure and nonsecure items. Do you want to display the nonsecure items?</em></p>

<p>Some have suggested that changing the src attribute to point to a blank html page with no content is the solution, but that’s an extra http request on your page that is unnecessary. Others have suggested that that changing the src attribute to javascript:false works. It does, in fact, but writes the text ‘false’ to your iframe content. Others have suggested javascript:void(0) as your src attribute value [Source: <a href="http://ewbi.blogs.com/develops/2004/07/ie_iframe_and_h.html">ewbi.develops</a>], but some Internet Explorer clients still have secure and nonsecure items alert popup. I have not figured out the factors that separate these Internet Explorer clients.</p>

<p><strong>Update</strong>: The correct solution is in face setting “javascript:false;document.write(“”);” as your src value, as I found in the <a href="http://malsup.com/jquery/block/">jQuery BlockUI</a> plugin. This is a silver bullet fix that will avoid all the problems I have encountered.</p>

<p><strong>Update Again</strong>: I have revisited this problem and it looks like (as mentioned in the comments) there is a problem with the solution presented in the first update (infinite load). After researching some DOMContentLoaded solutions, I thought to try the “//:” source they were attempting for their deferred script source. Alas, it didn’t work. However, <code>javascript:"";</code> <strong>does work</strong>, so the above solution has been modified. Keep in mind, the whole point of this solution is to <strong>avoid</strong> an additional unnecessary HTTP request.</p>

</article>
			</div><!-- /.main -->
		</div><!-- /.content -->
		<script type="text/javascript">
		// var _gaq = _gaq || [];
		// _gaq.push(['_setAccount', '']);
		// _gaq.push(['_trackPageview']);

		// (function() {
		// 	var ga = document.createElement('script');
		// 	ga.type = 'text/javascript';
		// 	ga.async = true;
		// 	ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
		// 	var s = document.getElementsByTagName('script')[0];
		// 	s.parentNode.insertBefore(ga, s);
		// })();
		</script>
	</body>
</html>