<!doctype html>
<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<title>Enlarging your YUI DataTable in 29 Seconds <span class="widow">or Less!</span>—zachleat.com</title>
		<link href="/atom.xml" rel="alternate" title="Web 367 via zachleat.com" type="application/atom+xml">

		<link href="/web/css/global.css" rel="stylesheet">
	</head>
	<body>
		<div class="rail">
			<header>
				<a href="/web/">
					<h1>Web 3.0, 6 Bladed Razors, 7 Minute Abs</h1>
				</a>
				<h2>A bunch of words by zachleat.</h2>
			</header>
			<aside>
				<nav role="navigation">
				</nav>
			</aside>
		</div>
		<div class="content">
			<div class="main" data-role="main">
				<article>
<h1>Enlarging your YUI DataTable in 29 Seconds <span class="widow">or Less!</span></h1>
<em>Posted on 28 Aug 2007</em>
<h1></h1>

<p><em>This is an updated version of the <a href="http://www.zachleat.com/web/2007/06/07/enlarging-your-yui-datatable-in-30-seconds-or-less/">Enlarging your YUI DataTable in 30 Seconds or Less!</a> modified for the newly released YUI 2.3.0.</em></p>

<p>This method adds an extra row to the YUI DataTable when a row is selected, below the selected row. This allows the developer to add additional content that might not be applicable to the column constraints of a typical datatable or grid and allow that content be displayed more fluidly inside a single row spanning all of the viewable columns.</p>

<p>I know you’re anxious for an example, so let’s see some screenshots of a simple YUI DataTable:</p>

<p>[![Default DataTable][3]][3]</p>

<p>Turns into this when a row is selected:</p>

<p><a href="http://www.zachleat.com/Lib/ymod/ymod-tableExtension-2.3.0.js"><img src="http://www.zachleat.com/Lib/ymod/ymod-tableExtension-2.3.0.js" alt="Row selected" /></a></p>

<p>Click any of the above images for a live example.</p>

<p>Any HTML can be added. You can make an AJAX call and put the result into the newly inserted row (that will be left as an exercise for the reader [you]).</p>

<p>I know you’re asking yourself, how the hell do I add this to my YUI DataTable? WHERE IS THE DAMN SOURCE CODE? Calm down, you know I’m getting to it.</p>

<h3>How To</h3>

<ol>
<li>Include the <a href="http://www.zachleat.com/Lib/ymod/ymod-tableExtension-2.3.0.js">ymod-tableExtension-2.3.0.js</a> file.</li>
<li>Create your DataTable. If you don’t know how to do this, go to the <a href="http://developer.yahoo.com/yui/datatable/">official documentation for help and examples</a>.</li>
<li>Make sure your DataTable has the selectionMode parameter set to ‘single’. This can be achieved by passing in <code>{ selectionMode: 'single' }</code> in as the 4th argument to the DataTable constructor.</li>
<li><p>Use the following code to setup your table extension:</p>

<p> // myDataTable is your DataTable object
 YAHOO.ymod.tableExtension.setup&#40; myDataTable, function&#40; contentDiv &#41;
 &#123;</p>

<pre><code> var myContent = '';
 var selectedRows = this.getSelectedRows&amp;#40;&amp;#41;;
 if&amp;#40; selectedRows.length &gt;  &amp;#41;
 &amp;#123;
     myContent  = 'Do something based onthe row that is selected!';
 &amp;#125;
 contentDiv.innerHTML = myContent;
</code></pre>

<p> &#125; &#41;;</p></li>
</ol>


<p>The setup function is basically a convenience method to add the event listeners. You can just as easily do this yourself manually:</p>

<pre><code>// myDataTable is your DataTable object.
myDataTable.subscribe&amp;#40; 'headerRowMousedownEvent', YAHOO.ymod.tableExtension.cleanUp &amp;#41;;
myDataTable.subscribe&amp;#40; 'rowClickEvent', YAHOO.ymod.tableExtension.selectRow, function&amp;#40; contentDiv &amp;#41; &amp;#123; /* same as function appears above */ &amp;#125; &amp;#41;;
</code></pre>

<h3>CSS</h3>

<p>Here’s some CSS hooks to do some styling. The expanded row will include the yui-dt-selected class by default.</p>

<pre><code>/* The original table row clicked on */
tr.ymod-expanded &amp;#123;&amp;#125;
/* Row containing the expanded content */
tr.ymod-expandedData &amp;#123;&amp;#125;
/* Div containing the expanded content inside the row */
tr.ymod-expandedData div.ymod-expandedDataContent &amp;#123; background-color: navy; padding: 2px 6px; &amp;#125;
</code></pre>

<h3>Limitations</h3>

<p>– Resorting removes the expanded content. Otherwise it was messing with the sort.<br/>
– It only works with single row selection mode, which allows only one row to be selected at a time. This is not the default (standard), which allows multiple rows to be selected with SHIFT or CTRL. Feel free to modify this to work with other modes!</p>

<h1><a href="http://www.zachleat.com/Lib/ymod/ymod-tableExtension-2.3.0.js">Download ymod-tableExtension-2.3.0.js</a></h1>

</article>
			</div><!-- /.main -->
		</div><!-- /.content -->
		<script type="text/javascript">
		// var _gaq = _gaq || [];
		// _gaq.push(['_setAccount', '']);
		// _gaq.push(['_trackPageview']);

		// (function() {
		// 	var ga = document.createElement('script');
		// 	ga.type = 'text/javascript';
		// 	ga.async = true;
		// 	ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
		// 	var s = document.getElementsByTagName('script')[0];
		// 	s.parentNode.insertBefore(ga, s);
		// })();
		</script>
	</body>
</html>