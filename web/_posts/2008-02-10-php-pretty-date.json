{"disqus":{"path":"/web/php-pretty-date/","commentCount":6,"comments":[{"postId":"887461744","parentPostId":null,"date":"2009-04-24T04:36:32Z","author":"Ranie","avatar":"https://www.gravatar.com/avatar/44d63422deb82678c42449e469116d8a?d=mm&s=60","message":"<p>Thanks for this man! Was going to use the js version but I like the php better!</p>","replies":[]},{"postId":"887461743","parentPostId":null,"date":"2009-05-28T19:31:12Z","author":"Devan","avatar":"https://www.gravatar.com/avatar/96b30164cc3e6330707f69f62cc92eca?d=mm&s=60","message":"<p>This is great, i ran into a few issues with accurate yesterday handling, but i fixed them. you can see the fix here <a href=\"http://noise.weareplic.com/snippets/snippet-pretty-dates-php/30/\" rel=\"nofollow noopener\" title=\"http://noise.weareplic.com/snippets/snippet-pretty-dates-php/30/\">http://noise.weareplic.com/...</a></p><p>Loverly script.</p>","replies":[]},{"postId":"887461748","parentPostId":null,"date":"2010-02-18T16:29:31Z","author":"Jelle","avatar":"https://www.gravatar.com/avatar/5adcaa25b65909ee83a0b71dc8abfdd4?d=mm&s=60","message":"<p>Support for future!</p><p><code><br><br>= 5.1 by Zach Leatherman (zachleat.com) <br>// Slight modification denoted below to handle months and years. <br>class prettydate <br>{ <br>    public static function getStringResolved($date, $compareTo = NULL) <br>    { <br>        if(!is_null($compareTo)) { <br>            $compareTo = new DateTime($compareTo); <br>        } <br>        return self::getString(new DateTime($date), $compareTo); <br>    } <br><br>    public static function getString(DateTime $date, DateTime $compareTo = NULL) <br>    { <br>        if(is_null($compareTo)) { <br>            $compareTo = new DateTime('now'); <br>        } <br>        $diff = $compareTo-&gt;format('U') - $date-&gt;format('U'); <br>        $dayDiff = floor($diff / 86400); <br><br>if(is_nan($dayDiff)) return ''; <br><br>$end = 'ago';<br>if($dayDiff &lt; 0) {# date is in the future<br>$end = &amp;#039left&amp;#039;<br>$dayDiff *= -1;<br>}<br><br>        if($dayDiff == 0) { <br>            if($diff &lt; 60) { <br>                return &amp;#039Just now&amp;#039; <br>            } elseif($diff &lt; 120) { <br>                return &amp;#0391 minute &amp;#039.$end; <br>            } elseif($diff &lt; 3600) { <br>                return floor($diff/60) . &amp;#039 minutes &amp;#039.$end; <br>            } elseif($diff &lt; 7200) { <br>                return &amp;#0391 hour &amp;#039.$end; <br>            } elseif($diff &lt; 86400) { <br>                return floor($diff/3600) . &amp;#039 hours &amp;#039.$end; <br>            } <br>        } elseif($dayDiff == 1) { <br>            return &amp;#039Yesterday&amp;#039; <br>        } elseif($dayDiff &lt; 7) { <br>            return $dayDiff . &amp;#039 days &amp;#039.$end; <br>        } elseif($dayDiff == 7) { <br>            return &amp;#0391 week &amp;#039.$end; <br>        } elseif($dayDiff &lt; (7*6)) { // Modifications Start Here <br>            // 6 weeks at most <br>            return ceil($dayDiff/7) . &amp;#039 weeks &amp;#039.$end; <br>        } elseif($dayDiff &lt; 365) { <br>            return ceil($dayDiff/(365/12)) . &amp;#039 months &amp;#039.$end; <br>        } else { <br>            $years = round($dayDiff/365); <br>            return $years . &amp;#039 year&amp;#039 . ($years != 1 ? &amp;#039s&amp;#039 : &amp;#039&amp;#039) . &amp;#039 &amp;#039.$end; <br>        } <br>    } <br>}<br><br><code></code></code></p>","replies":[]},{"postId":"887461749","parentPostId":null,"date":"2011-05-02T20:17:21Z","author":"Benjamin C.","avatar":"https://www.gravatar.com/avatar/cfc475d966c76cc58808d6d38af2b749?d=mm&s=60","message":"<p>Thanks for the script!</p>","replies":[]},{"postId":"887461751","parentPostId":null,"date":"2011-07-12T01:35:57Z","author":"Woody","avatar":"https://www.gravatar.com/avatar/7dd8775faa65f1cb5646d782a25c5ec7?d=mm&s=60","message":"<p>Using in a new wordpress plugin, props dude, seems to fail for sub hours though...</p>","replies":[]},{"postId":"887461745","parentPostId":null,"date":"2011-07-12T03:55:20Z","author":"Zach Leatherman","avatar":"https://www.gravatar.com/avatar/e1899004c71c7043343196103e210be3?d=mm&s=60","message":"<p>Looking back on this script, I don't know that I'd recommend using it.</p><p>It makes more sense to output UTC and then pretty it up using JavaScript instead.  Then you can cache your HTML.  See <a href=\"https://www.zachleat.com/web/yet-another-pretty-date-javascript/\" rel=\"nofollow noopener\" title=\"https://www.zachleat.com/web/yet-another-pretty-date-javascript/\">this implementation</a>. Also <a href=\"https://github.com/zachleat/Humane-Dates\" rel=\"nofollow noopener\" title=\"https://github.com/zachleat/Humane-Dates\">on GitHub</a>.</p>","replies":[]}]}}